const { ven } = require('../trend'); // adjust path if needed
const { addUser, removeUser, isChatbotUser } = require('../lib/chatbot');

ven({
  pattern: "chatbot",
  desc: "Turn chatbot mode on or off",
  category: "ai",
  use: "<on/off>",
  react: "🧠",
  filename: __filename
},
async (conn, mek, m, { q, reply, sender }) => {
  if (!q) return reply("💬 Use `.chatbot on` or `.chatbot off`");

  if (q.toLowerCase() === "on") {
    addUser(sender);
    reply("✅ Chatbot mode activated! Send me anything.");
  } else if (q.toLowerCase() === "off") {
    removeUser(sender);
    reply("❌ Chatbot mode deactivated.");
  } else {
    reply("⚠️ Invalid option. Use `.chatbot on` or `.chatbot off`");
  }
});
